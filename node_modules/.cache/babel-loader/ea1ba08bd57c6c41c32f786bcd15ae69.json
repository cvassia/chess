{"ast":null,"code":"import * as Chess from \"chess.js\";\nimport { BehaviorSubject } from \"rxjs\";\nlet promotion = \"rnb2bnr/pppPkppp/8/4p3/7q/8/PPPP1PPP/RNBQKBNR w KQ - 1 5\";\nconst chess = new Chess(promotion);\nexport const gameSubject = new BehaviorSubject();\nexport function initGame() {\n  updateGame();\n}\nexport function handleMove(from, to) {\n  const promotions = chess.moves({\n    verbose: true\n  }).filter(m => m.promotion);\n}\nexport function move(from, to) {\n  const legalMove = chess.move({\n    from,\n    to\n  });\n\n  if (legalMove) {\n    updateGame();\n  }\n}\n\nfunction updateGame() {\n  const newGame = {\n    board: chess.board()\n  };\n  gameSubject.next(newGame);\n}","map":{"version":3,"sources":["/Users/vassiachrist/Documents/dev/js/react/chess-game/src/Game.js"],"names":["Chess","BehaviorSubject","promotion","chess","gameSubject","initGame","updateGame","handleMove","from","to","promotions","moves","verbose","filter","m","move","legalMove","newGame","board","next"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,UAAvB;AACA,SAASC,eAAT,QAAgC,MAAhC;AAEA,IAAIC,SAAS,GAAG,0DAAhB;AAEA,MAAMC,KAAK,GAAG,IAAIH,KAAJ,CAAUE,SAAV,CAAd;AAEA,OAAO,MAAME,WAAW,GAAG,IAAIH,eAAJ,EAApB;AAEP,OAAO,SAASI,QAAT,GAAoB;AACzBC,EAAAA,UAAU;AACX;AAED,OAAO,SAASC,UAAT,CAAoBC,IAApB,EAA0BC,EAA1B,EAA8B;AACnC,QAAMC,UAAU,GAAGP,KAAK,CAACQ,KAAN,CAAY;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAAZ,EAA+BC,MAA/B,CAAuCC,CAAD,IAAOA,CAAC,CAACZ,SAA/C,CAAnB;AACD;AAED,OAAO,SAASa,IAAT,CAAcP,IAAd,EAAoBC,EAApB,EAAwB;AAC7B,QAAMO,SAAS,GAAGb,KAAK,CAACY,IAAN,CAAW;AAAEP,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAX,CAAlB;;AACA,MAAIO,SAAJ,EAAe;AACbV,IAAAA,UAAU;AACX;AACF;;AAED,SAASA,UAAT,GAAsB;AACpB,QAAMW,OAAO,GAAG;AACdC,IAAAA,KAAK,EAAEf,KAAK,CAACe,KAAN;AADO,GAAhB;AAIAd,EAAAA,WAAW,CAACe,IAAZ,CAAiBF,OAAjB;AACD","sourcesContent":["import * as Chess from \"chess.js\";\nimport { BehaviorSubject } from \"rxjs\";\n\nlet promotion = \"rnb2bnr/pppPkppp/8/4p3/7q/8/PPPP1PPP/RNBQKBNR w KQ - 1 5\";\n\nconst chess = new Chess(promotion);\n\nexport const gameSubject = new BehaviorSubject();\n\nexport function initGame() {\n  updateGame();\n}\n\nexport function handleMove(from, to) {\n  const promotions = chess.moves({ verbose: true }).filter((m) => m.promotion);\n}\n\nexport function move(from, to) {\n  const legalMove = chess.move({ from, to });\n  if (legalMove) {\n    updateGame();\n  }\n}\n\nfunction updateGame() {\n  const newGame = {\n    board: chess.board(),\n  };\n\n  gameSubject.next(newGame);\n}\n"]},"metadata":{},"sourceType":"module"}